(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{9724:(e,r,t)=>{Promise.resolve().then(t.bind(t,306))},6463:(e,r,t)=>{"use strict";var s=t(1169);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},306:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(7437),n=t(2265),i=t(6463),a=t(4282);function l(){let e=(0,i.useRouter)(),[r,t]=(0,n.useState)(null),[l,o]=(0,n.useState)([]),[d,c]=(0,n.useState)(null),[x,u]=(0,n.useState)(!0),[m,p]=(0,n.useState)("overview");(0,n.useEffect)(()=>{let r=(0,a.ts)();if(!r||!(0,a.GJ)(r)){e.push("/auth/login");return}t(r),h()},[e]);let h=()=>{let e=(0,a.sD)(),r=(0,a.lP)();o(e),c(r),u(!1)},g=e=>{confirm("Are you sure you want to delete this user?")&&((0,a.h8)(e)?(h(),alert("User deleted successfully")):alert("Failed to delete user"))};return x?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-blue-950 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-white text-xl",children:"Loading..."})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-blue-950",children:[(0,s.jsx)("div",{className:"bg-black/20 backdrop-blur-sm border-b border-purple-500/20 mt-20 sm:mt-24",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-6 sm:px-6 lg:px-8 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Admin Dashboard"}),(0,s.jsxs)("p",{className:"text-gray-400 mt-1",children:["Welcome back, ",null==r?void 0:r.name]})]}),(0,s.jsx)("button",{onClick:()=>e.push("/"),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:"Back to Home"})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-6 sm:px-6 lg:px-8 py-8",children:[d&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)("div",{className:"bg-gradient-to-br from-purple-900/50 to-indigo-900/50 backdrop-blur-sm border border-purple-500/20 rounded-xl p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Users"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-white mt-2",children:d.total})]}),(0,s.jsx)("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-br from-blue-900/50 to-cyan-900/50 backdrop-blur-sm border border-blue-500/20 rounded-xl p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Brands"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-white mt-2",children:d.brands})]}),(0,s.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-br from-indigo-900/50 to-purple-900/50 backdrop-blur-sm border border-indigo-500/20 rounded-xl p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Property Owners"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-white mt-2",children:d.owners})]}),(0,s.jsx)("div",{className:"w-12 h-12 bg-indigo-500/20 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-br from-purple-900/50 to-pink-900/50 backdrop-blur-sm border border-purple-500/20 rounded-xl p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Admins"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-white mt-2",children:d.admins})]}),(0,s.jsx)("div",{className:"w-12 h-12 bg-pink-500/20 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-pink-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]})})]}),(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-sm border border-purple-500/20 rounded-xl p-1 mb-6 inline-flex",children:[(0,s.jsx)("button",{onClick:()=>p("overview"),className:"px-6 py-2 rounded-lg transition-colors ".concat("overview"===m?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"text-gray-400 hover:text-white"),children:"Overview"}),(0,s.jsx)("button",{onClick:()=>p("users"),className:"px-6 py-2 rounded-lg transition-colors ".concat("users"===m?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"text-gray-400 hover:text-white"),children:"All Users"}),(0,s.jsx)("button",{onClick:()=>p("brands"),className:"px-6 py-2 rounded-lg transition-colors ".concat("brands"===m?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"text-gray-400 hover:text-white"),children:"Brands"}),(0,s.jsx)("button",{onClick:()=>p("owners"),className:"px-6 py-2 rounded-lg transition-colors ".concat("owners"===m?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"text-gray-400 hover:text-white"),children:"Property Owners"})]}),(0,s.jsx)("div",{className:"bg-black/20 backdrop-blur-sm border border-purple-500/20 rounded-xl overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-purple-900/30",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Email"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Phone"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Type"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Tier"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Onboarding"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Created"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-purple-500/10",children:(()=>{switch(m){case"brands":return l.filter(e=>"brand"===e.userType);case"owners":return l.filter(e=>"owner"===e.userType);case"users":return l.filter(e=>"admin"!==e.userType);default:return l}})().map(e=>(0,s.jsxs)("tr",{className:"hover:bg-purple-900/10 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-white",children:e.name})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-400",children:e.email})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-400",children:e.phone||"N/A"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("admin"===e.userType?"bg-pink-900/50 text-pink-300":"brand"===e.userType?"bg-blue-900/50 text-blue-300":"bg-indigo-900/50 text-indigo-300"),children:e.userType})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("enterprise"===e.subscriptionTier?"bg-purple-900/50 text-purple-300":"premium"===e.subscriptionTier?"bg-yellow-900/50 text-yellow-300":"bg-gray-900/50 text-gray-300"),children:e.subscriptionTier})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.onboardingComplete?"bg-green-900/50 text-green-300":"bg-orange-900/50 text-orange-300"),children:e.onboardingComplete?"Complete":"Pending"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:"admin"!==e.userType&&(0,s.jsx)("button",{onClick:()=>g(e.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})})]},e.id))})]})})})]})]})}},4282:(e,r,t)=>{"use strict";t.d(r,{$8:()=>g,GJ:()=>w,h8:()=>k,kS:()=>f,lP:()=>N,pH:()=>u,r4:()=>x,rd:()=>j,sD:()=>v,ts:()=>b});let s=async e=>{let r=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",r))).map(e=>e.toString(16).padStart(2,"0")).join("")},n=async(e,r)=>await s(e)===r,i=()=>"user_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),a="ngventures_users",l="ngventures_session",o=()=>{let e=localStorage.getItem(a);return e?JSON.parse(e):[]},d=e=>{localStorage.setItem(a,JSON.stringify(e))},c=e=>o().find(r=>r.email.toLowerCase()===e.toLowerCase())||null,x=async(e,r,t,n,a)=>{try{if(c(e))return{success:!1,error:"User with this email already exists"};if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return{success:!1,error:"Invalid email format"};if(r.length<6)return{success:!1,error:"Password must be at least 6 characters"};let l=await s(r),x={id:i(),email:e.toLowerCase(),name:t,phone:a,userType:n,passwordHash:l,createdAt:new Date().toISOString(),onboardingComplete:"admin"===n,subscriptionTier:"admin"===n?"enterprise":"free",isAdmin:"admin"===n},u=o();u.push(x),d(u);let{passwordHash:m,...p}=x;return{success:!0,user:x}}catch(e){return console.error("Error creating user:",e),{success:!1,error:"Failed to create user"}}},u=async(e,r)=>{try{let t=c(e);if(!t||!await n(r,t.passwordHash))return{success:!1,error:"Invalid email or password"};return m(t),{success:!0,user:t}}catch(e){return console.error("Error logging in:",e),{success:!1,error:"Failed to login"}}},m=e=>{let r={userId:e.id,email:e.email,userType:e.userType,name:e.name,isAdmin:e.isAdmin||"admin"===e.userType,timestamp:Date.now()};localStorage.setItem(l,JSON.stringify(r))},p=()=>{let e=localStorage.getItem(l);if(!e)return null;let r=JSON.parse(e);return Date.now()-r.timestamp>864e5?(h(),null):r},h=()=>{localStorage.removeItem(l)},g=()=>null!==p(),b=()=>{let e=p();return e?c(e.email):null},f=()=>{h()},w=e=>(null==e?void 0:e.userType)==="admin"||(null==e?void 0:e.isAdmin)===!0,y=()=>w(b()),j=async()=>{let e="admin@ngventures.com";c(e)||(await x(e,"admin123","System Administrator","admin"),console.log("âœ… Default admin account created: admin@ngventures.com / admin123"))},v=()=>y()?o():(console.error("Unauthorized: Admin access required"),[]),N=()=>{if(!y())return console.error("Unauthorized: Admin access required"),null;let e=o();return{total:e.length,admins:e.filter(e=>"admin"===e.userType).length,brands:e.filter(e=>"brand"===e.userType).length,owners:e.filter(e=>"owner"===e.userType).length,freeUsers:e.filter(e=>"free"===e.subscriptionTier).length,premiumUsers:e.filter(e=>"premium"===e.subscriptionTier).length,enterpriseUsers:e.filter(e=>"enterprise"===e.subscriptionTier).length}},k=e=>{if(!y())return console.error("Unauthorized: Admin access required"),!1;try{let r=o(),t=r.filter(r=>r.id!==e);if(r.length===t.length)return!1;return d(t),!0}catch(e){return console.error("Error deleting user:",e),!1}}}},e=>{var r=r=>e(e.s=r);e.O(0,[130,215,744],()=>r(9724)),_N_E=e.O()}]);