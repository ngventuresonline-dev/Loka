export const insights = {
  brand: {
    QSR: [
      'âš¡ QSR brands perform best in high-footfall areas with parking',
      'ğŸ¯ Ground floor visibility is crucial for quick-service restaurants',
      'ğŸ’° Average QSR space in Koramangala: 800-1200 sqft at â‚¹180-220/sqft',
      "ğŸš€ We've matched 15+ QSR brands in the last quarter",
      'ğŸ“ Tech parks and college areas are QSR goldmines',
    ],
    Cafe: [
      'â˜• CafÃ©s thrive in residential neighborhoods with morning footfall',
      'ğŸªŸ Natural light and outdoor seating boost cafÃ© revenue by 30%',
      'ğŸ“Š Ideal cafÃ© size: 600-1000 sqft with cozy ambiance',
      'ğŸ¨ Corner units with large windows are perfect for Instagram-worthy cafÃ©s',
      'ğŸ’¡ Indiranagar and Koramangala have highest cafÃ© success rates',
    ],
    Restaurant: [
      'ğŸ½ï¸ Fine dining needs 1500+ sqft with proper ventilation and parking',
      'ğŸŒŸ Restaurant locations near hotels and business districts perform best',
      'ğŸ’° Budget â‚¹200-300/sqft for premium restaurant spaces',
      'ğŸ‘¥ Demographics matter: match your cuisine to the neighborhood',
      'ğŸ† 85% of our restaurant matches converted to leases within 45 days',
    ],
    Bar: [
      'ğŸº Bar licenses are location-specific - we check compliance for every match',
      'ğŸµ Soundproofing and late-night accessibility are crucial for bars',
      'ğŸ“ Indiranagar, Koramangala, and MG Road are licensed bar zones',
      'ğŸ’° Bar spaces need 2000+ sqft with proper ventilation',
      'ğŸš— Parking is a must-have for bar locations',
    ],
    Retail: [
      'ğŸ›ï¸ Retail stores need high visibility and street-level access',
      'ğŸ“ˆ Retail rent in malls: â‚¹250-400/sqft vs street retail: â‚¹150-250/sqft',
      'ğŸ‘€ Window display space increases walk-ins by 45%',
      'ğŸ¢ Ground floor corner units get 3x more footfall',
      'ğŸ’¡ We analyze competitor density for every retail match',
    ],
    CloudKitchen: [
      "ğŸ“¦ Cloud kitchens don't need visibility - focus on delivery radius",
      'ğŸ’° Save 50% on rent with basement or upper floor locations',
      'âš¡ 15 KVA power and proper ventilation are must-haves',
      'ğŸ“ Areas with high apartment density are ideal for cloud kitchens',
      'ğŸš€ Average cloud kitchen: 300-600 sqft at â‚¹80-120/sqft',
    ],
  },

  owner: {
    GroundFloor: [
      'ğŸ† Ground floor properties lease 60% faster than upper floors',
      'ğŸ’° Ground floor commands 30-40% premium for F&B spaces',
      'âš¡ High visibility = higher rental value for ground floor',
      'ğŸ“ We have 20+ brands actively searching for ground floor spaces',
      'ğŸ¯ Your ground floor property matches 80% of our brand requirements',
    ],
    CornerUnit: [
      'ğŸŒŸ Corner units are in high demand - 2x more inquiries',
      'ğŸ‘€ Double visibility = premium pricing power',
      'ğŸ’¡ Corner properties lease for 25-35% more than mid-block',
      'ğŸ¯ Perfect for cafÃ©s, retail stores, and QSR brands',
      'ğŸ“ˆ We have 15+ brands specifically looking for corner units',
    ],
    Parking: [
      'ğŸš— Parking availability increases your property value by 20%',
      'ğŸ¯ Fine dining and bars specifically require parking',
      'ğŸ’° Properties with parking lease 40% faster',
      'ğŸ“ We match parking properties with premium brands only',
      'âš¡ Parking is a must-have for 60% of our brand requirements',
    ],
    HighFootfall: [
      'ğŸ‘¥ High footfall areas command premium rents',
      'ğŸ“ˆ Your location has 5000+ daily footfall - highly desirable',
      'ğŸ’° Properties in high-traffic zones lease 50% faster',
      'ğŸ¯ QSR and retail brands specifically target high footfall areas',
      'ğŸŒŸ We have 25+ brands looking for high-traffic locations',
    ],
  },

  location: {
    Koramangala: [
      "ğŸ“ Koramangala is Bangalore's #1 F&B destination",
      'ğŸ’° Average rent: â‚¹180-250/sqft for commercial spaces',
      "ğŸ¯ We've matched 20+ brands in Koramangala last quarter",
      'ğŸ‘¥ Young professional demographic - ideal for cafÃ©s and QSRs',
      'ğŸ† Highest success rate for new F&B brands',
    ],
    Indiranagar: [
      'ğŸŒŸ Indiranagar attracts premium F&B and retail brands',
      'ğŸ’° Premium location: â‚¹220-350/sqft commercial rent',
      'ğŸ½ï¸ Perfect for fine dining, bars, and boutique cafÃ©s',
      'ğŸ“ˆ Property values grew 22% in last 2 years',
      'ğŸ¯ High-income residential area with strong spending power',
    ],
    Whitefield: [
      'ğŸ’¼ Whitefield tech park area has 200K+ daily professionals',
      'âš¡ High demand for QSR, cafÃ©s, and cloud kitchens',
      'ğŸ’° Competitive rent: â‚¹120-180/sqft',
      'ğŸš€ Fastest growing commercial zone in Bangalore',
      'ğŸ“ Captive audience = guaranteed footfall for F&B',
    ],
    HSRLayout: [
      'ğŸ¡ HSR Layout is a residential goldmine for F&B',
      'â˜• High density of cafÃ©s, bakeries, and restaurants',
      'ğŸ’° Moderate rent: â‚¹150-200/sqft',
      'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family-oriented area - ideal for casual dining',
      'ğŸ“ˆ Consistent footfall throughout the day',
    ],
  },

  general: [
    'ğŸ’¡ Our AI analyzes 15+ factors to find your perfect match',
    'âš¡ Instant match promise - we find spaces instantly',
    'ğŸ¯ Zero listing fees - completely free for property owners',
    'ğŸ“Š We track demographics, footfall, and competition for every area',
    'ğŸ† 500+ verified F&B brands actively searching on our platform',
  ],
}

interface InsightContext {
  userType: 'brand' | 'owner'
  businessType?: string
  location?: string
  features?: string[]
}

export function getContextualInsight(context: InsightContext): string {
  const { userType, businessType, location, features } = context

  const pool: string[] = [...insights.general]

  // Brand-specific by business type
  if (userType === 'brand' && businessType) {
    // Normalize display labels (e.g. "CafÃ©/QSR") to internal keys
    const map: Record<string, keyof typeof insights.brand> = {
      'CafÃ©/QSR': 'QSR',
      'Cafe/QSR': 'QSR',
      QSR: 'QSR',
      Cafe: 'Cafe',
      'Fine Dining': 'Restaurant',
      Restaurant: 'Restaurant',
      'Bar/Brewery': 'Bar',
      Bar: 'Bar',
      Retail: 'Retail',
      'Cloud Kitchen': 'CloudKitchen',
      CloudKitchen: 'CloudKitchen',
    }
    const key = map[businessType] || (businessType as keyof typeof insights.brand)
    const typeInsights = (insights.brand as any)[key] as string[] | undefined
    if (typeInsights) pool.push(...typeInsights)
  }

  // Owner-specific by features
  if (userType === 'owner' && features && features.length > 0) {
    if (features.includes('Ground Floor')) pool.push(...insights.owner.GroundFloor)
    if (features.includes('Corner Unit')) pool.push(...insights.owner.CornerUnit)
    if (features.includes('Parking')) pool.push(...insights.owner.Parking)
  }

  // Location-specific
  if (location) {
    // Normalize location keys (e.g. "HSR" -> "HSRLayout")
    let locKey: keyof typeof insights.location | undefined
    if (location === 'HSR') {
      locKey = 'HSRLayout'
    } else {
      const compact = location.replace(/\s+/g, '')
      if ((insights.location as any)[compact]) {
        locKey = compact as keyof typeof insights.location
      }
    }
    if (locKey) {
      const locInsights = insights.location[locKey]
      if (locInsights) pool.push(...locInsights)
    }
  }

  if (pool.length === 0) {
    return 'ğŸ’¡ Our AI analyzes 15+ factors to find your perfect match.'
  }

  const idx = Math.floor(Math.random() * pool.length)
  return pool[idx]
}


